<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Nox Labyrinthos</title>
        <base href=".">
        <link rel="shortcut icon" href="#">
        <script src="Compass.js"></script>
        <script src="Player.js"></script>
        <script src="Monster.js"></script>
        <script src="Captive.js"></script>
        <script src="Game.js"></script>
        <link href="styles/mainStyle.css" type="text/css" rel="stylesheet">
        <link href="https://fonts.cdnfonts.com/css/public-pixel" rel="stylesheet">
    <head>
    <body>
        <div class="container">
            <div class ="reset-button">
                <button onclick="window.location.reload()">start over</button>
            </div>
            <div class="text">
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed faucibus, tortor vel malesuada tincidunt, libero dolor bibendum ipsum, vel aliquet ipsum neque a felis. Fusce in felis quam. Pellentesque eu arcu ac enim dignissim semper quis a magna.</p>
            </div>
            <div class="buttons">
                <button>Button 1</button>
            </div>
        </div>
        <script>
            let game = new Game();
            // window.addEventListener('load', () => {
            //     game = new Game();
            // });
            buttonsDiv = document.querySelector('.buttons');
            description = document.querySelector(".text");
            buttonNames = ["pick up the revolver and open the door"];
            desText = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed faucibus, tortor vel malesuada tincidunt, libero dolor bibendum ipsum, vel aliquet ipsum neque a felis. Fusce in felis quam. Pellentesque eu arcu ac enim dignissim semper quis a magna.";

            function createButtons() {
                buttonsDiv.innerHTML = ''; // clear previous buttons
                buttonNames.forEach((name) => {
                    const button = document.createElement('button');
                    button.textContent = name;
                    button.addEventListener('click', () => {
                        // Code to execute when a button is clicked
                        game.takeTurn(name);
                        buttonNames = game.getActionList();
                        desText = game.descriptionBuilder();
                        createButtons();
                        description.innerHTML = '';
                        const t = document.createElement('p');
                        t.textContent = desText;
                        description.appendChild(t);
                    });
                    buttonsDiv.appendChild(button);
                });
            }
            createButtons();
        </script>
    </body>
</html>